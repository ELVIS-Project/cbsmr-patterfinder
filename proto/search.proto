syntax = "proto3";

package proto;

import "proto/types.proto";

service SearchService {
    rpc Search (SearchRequest) returns (SearchResponse);
}

message SearchRequest {
	repeated Note query = 1;
}

message SearchResponse {
	// If it's fast enough, we could just make this a repeated Measure
  repeated Occurrence occs = 1;
}

message Occurrence {
	uint32 pieceId = 1;
	repeated uint32 noteIdx = 2;
	repeated Measure highlightedExcerpt = 3;
}
